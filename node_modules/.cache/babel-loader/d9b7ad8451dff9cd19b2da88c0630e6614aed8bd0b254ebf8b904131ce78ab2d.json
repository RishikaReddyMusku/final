{"ast":null,"code":"import{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[tasks,setTasks]=useState([]);const[text,setText]=useState(\"\");const API_URL=process.env.REACT_APP_API_URL||\"http://localhost:5000/tasks\";useEffect(()=>{if(API_URL){axios.get(API_URL).then(res=>setTasks(res.data)).catch(err=>console.error(\"Error fetching tasks:\",err));}},[API_URL]);// Add API_URL as a dependency\nconst addTask=()=>{if(!text.trim())return;// Prevent empty tasks\naxios.post(API_URL,{text,completed:false}).then(res=>setTasks([...tasks,res.data])).catch(err=>console.error(\"Error adding task:\",err));setText(\"\");};const deleteTask=id=>{axios.delete(`${API_URL}/${id}`).then(()=>setTasks(tasks.filter(task=>task._id!==id))).catch(err=>console.error(\"Error deleting task:\",err));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"To-Do List\"}),/*#__PURE__*/_jsx(\"input\",{value:text,onChange:e=>setText(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:addTask,children:\"Add\"}),/*#__PURE__*/_jsx(\"ul\",{children:tasks.map(task=>/*#__PURE__*/_jsxs(\"li\",{children:[task.text,\" \",/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteTask(task._id),children:\"Delete\"})]},task._id))})]});}export default App;","map":{"version":3,"names":["useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","App","tasks","setTasks","text","setText","API_URL","process","env","REACT_APP_API_URL","get","then","res","data","catch","err","console","error","addTask","trim","post","completed","deleteTask","id","delete","filter","task","_id","children","value","onChange","e","target","onClick","map"],"sources":["D:/todoapp/frontend/todo/src/App.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nfunction App() {\n    const [tasks, setTasks] = useState([]);\n    const [text, setText] = useState(\"\");\n    const API_URL = process.env.REACT_APP_API_URL || \"http://localhost:5000/tasks\";\n\n\n    useEffect(() => {\n        if (API_URL) {\n            axios.get(API_URL)\n                .then(res => setTasks(res.data))\n                .catch(err => console.error(\"Error fetching tasks:\", err));\n        }\n    }, [API_URL]); // Add API_URL as a dependency\n    \n\n    const addTask = () => {\n        if (!text.trim()) return; // Prevent empty tasks\n        axios.post(API_URL, { text, completed: false })\n            .then(res => setTasks([...tasks, res.data]))\n            .catch(err => console.error(\"Error adding task:\", err));\n        setText(\"\");\n    };\n    \n    const deleteTask = (id) => {\n        axios.delete(`${API_URL}/${id}`)\n            .then(() => setTasks(tasks.filter(task => task._id !== id)))\n            .catch(err => console.error(\"Error deleting task:\", err));\n    };\n    \n\n    return (\n        <div>\n            <h1>To-Do List</h1>\n            <input value={text} onChange={e => setText(e.target.value)} />\n            <button onClick={addTask}>Add</button>\n            <ul>\n                {tasks.map(task => (\n                    <li key={task._id}>\n                        {task.text} <button onClick={() => deleteTask(task._id)}>Delete</button>\n                    </li>\n                ))}\n            </ul>\n        </div>\n    );\n}\nexport default App;\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACX,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACS,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CACpC,KAAM,CAAAW,OAAO,CAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,EAAI,6BAA6B,CAG9Ef,SAAS,CAAC,IAAM,CACZ,GAAIY,OAAO,CAAE,CACTV,KAAK,CAACc,GAAG,CAACJ,OAAO,CAAC,CACbK,IAAI,CAACC,GAAG,EAAIT,QAAQ,CAACS,GAAG,CAACC,IAAI,CAAC,CAAC,CAC/BC,KAAK,CAACC,GAAG,EAAIC,OAAO,CAACC,KAAK,CAAC,uBAAuB,CAAEF,GAAG,CAAC,CAAC,CAClE,CACJ,CAAC,CAAE,CAACT,OAAO,CAAC,CAAC,CAAE;AAGf,KAAM,CAAAY,OAAO,CAAGA,CAAA,GAAM,CAClB,GAAI,CAACd,IAAI,CAACe,IAAI,CAAC,CAAC,CAAE,OAAQ;AAC1BvB,KAAK,CAACwB,IAAI,CAACd,OAAO,CAAE,CAAEF,IAAI,CAAEiB,SAAS,CAAE,KAAM,CAAC,CAAC,CAC1CV,IAAI,CAACC,GAAG,EAAIT,QAAQ,CAAC,CAAC,GAAGD,KAAK,CAAEU,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CAC3CC,KAAK,CAACC,GAAG,EAAIC,OAAO,CAACC,KAAK,CAAC,oBAAoB,CAAEF,GAAG,CAAC,CAAC,CAC3DV,OAAO,CAAC,EAAE,CAAC,CACf,CAAC,CAED,KAAM,CAAAiB,UAAU,CAAIC,EAAE,EAAK,CACvB3B,KAAK,CAAC4B,MAAM,CAAC,GAAGlB,OAAO,IAAIiB,EAAE,EAAE,CAAC,CAC3BZ,IAAI,CAAC,IAAMR,QAAQ,CAACD,KAAK,CAACuB,MAAM,CAACC,IAAI,EAAIA,IAAI,CAACC,GAAG,GAAKJ,EAAE,CAAC,CAAC,CAAC,CAC3DT,KAAK,CAACC,GAAG,EAAIC,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEF,GAAG,CAAC,CAAC,CACjE,CAAC,CAGD,mBACIf,KAAA,QAAA4B,QAAA,eACI9B,IAAA,OAAA8B,QAAA,CAAI,YAAU,CAAI,CAAC,cACnB9B,IAAA,UAAO+B,KAAK,CAAEzB,IAAK,CAAC0B,QAAQ,CAAEC,CAAC,EAAI1B,OAAO,CAAC0B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAAE,CAAC,cAC9D/B,IAAA,WAAQmC,OAAO,CAAEf,OAAQ,CAAAU,QAAA,CAAC,KAAG,CAAQ,CAAC,cACtC9B,IAAA,OAAA8B,QAAA,CACK1B,KAAK,CAACgC,GAAG,CAACR,IAAI,eACX1B,KAAA,OAAA4B,QAAA,EACKF,IAAI,CAACtB,IAAI,CAAC,GAAC,cAAAN,IAAA,WAAQmC,OAAO,CAAEA,CAAA,GAAMX,UAAU,CAACI,IAAI,CAACC,GAAG,CAAE,CAAAC,QAAA,CAAC,QAAM,CAAQ,CAAC,GADnEF,IAAI,CAACC,GAEV,CACP,CAAC,CACF,CAAC,EACJ,CAAC,CAEd,CACA,cAAe,CAAA1B,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}